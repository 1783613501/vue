// 用mockjs模拟生成数据
var Mock = require('mockjs');

let rm = Mock.Random;
// 首页内容
let mapData = n => {

	let data = [];

	for (var i = 0; i <= n; i++) {
		data.push({
			"id": 1000 + i,
			"_id": 1000 + new Array(20).fill('0').join('')+i,
			title: rm.cparagraph(1,2),
			auth: "@cname",
			title_img: rm.image('113x75', rm.color(),rm.word(2)),
			say_num: '@integer(100,10000)',
			good_num: '@integer(100,10000)',
			detail: {
				time: '@integer(1511197952100,1611197952100)',
				auth_icon: rm.image('50x50', rm.color(), rm.cword(1)),
				content: function() {
					let result = '';
					for (var i = 0; i < (Math.random() + 1) * 10; i++) {
						result += '<p>' + Mock.Random.cparagraph(3, 5) + '</p>'
					}
					return result;
				}
			}
		})
	}
	return data;
}



// 视频页
let mapData1 = n => {

	let data = [];

	for (var i = 0; i <= n; i++) {
		data.push({
			"id": 1000 + i,
			"_id": 1000 + new Array(20).fill('0').join('')+i,
			title: rm.cparagraph(1,2),
			auth: "@cname",
			title_img: rm.image('113x75', rm.color(),rm.cword(4,6)),
			good_num: '@integer(100,10000)',
			say_num: '@integer(100,10000)',
			detail: {
				time: '@integer(1511197952100,1611197952100)',
				auth_icon: rm.image('50x50', rm.color(), rm.cword(1)),
				content: function() {
					let result = '';
					for (var i = 0; i < (Math.random() + 1) * 10; i++) {
						result += '<p>' + Mock.Random.cparagraph(3, 5) + '</p>'
					}
					return result;
				}
			}
		})
	}

	return data;
}

// 搜索页
let mapData2 = n => {
	let data = [];
	for (var i = 0; i <= n; i++) {
		data.push({
			"id": 1000 + i,
			"_id": 1000 + new Array(20).fill('0').join('')+i,
			search_title: rm.csentence(10, 20),
			detail: {
				time: '@integer(1511197952100,1611197952100)',
				auth: "@cname",
				auth_icon: rm.image('50x50', rm.color(), rm.cword(2)),
				good_num: '@integer(100,10000)',
				say_num: '@integer(100,10000)',
				content: function() {
					let result = '';
					for (var i = 0; i < (Math.random() + 1) * 10; i++) {
						result += '<p>' + Mock.Random.cparagraph(3, 5) + '</p>'
					}
					return result;
				}
			}
		})
	}
	return data;
}






//编程型(app.js) 需要的是一个对象
module.exports = Mock.mock({
	"home": mapData(100),
	"search": mapData(100),
	"sp": mapData1(60),
	"user": {
		"_id": 1000 + new Array(20).fill('0').join(''),
		auth_icon: rm.image('50x50', rm.color(), rm.cword(2)),
		nikename: '@cname',
		active: '@integer(100,10000)',
		fans: '@integer(100,10000)',
		follow: '@integer(100,10000)'
	}
})
