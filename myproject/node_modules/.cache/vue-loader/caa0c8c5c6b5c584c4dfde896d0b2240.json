{"remainingRequest":"C:\\Users\\17836\\Documents\\HBuilderProjects\\myproject\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\17836\\Documents\\HBuilderProjects\\myproject\\src\\page\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\17836\\Documents\\HBuilderProjects\\myproject\\src\\page\\login.vue","mtime":1611972611909},{"path":"C:\\Users\\17836\\Documents\\HBuilderProjects\\myproject\\node_modules\\babel-loader\\lib\\index.js","mtime":1611536693653},{"path":"C:\\Users\\17836\\Documents\\HBuilderProjects\\myproject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1611536681471},{"path":"C:\\Users\\17836\\Documents\\HBuilderProjects\\myproject\\node_modules\\vue-loader\\lib\\index.js","mtime":1611536691254}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tname: 'login',\n\tprops: {},\n\tdata() {\n\t\treturn {\n\t\t\tusername: '',\n\t\t\tpassword: '',\n\t\t\tmess: '', //错误信息\n\t\t}\n\t},\n\tcomponents: {},\n\tmounted() {\n\t\t\n\t},\n\tupdated() {},\n\tmethods: {\n\t\tloging() {\n\t\t\t//发送登录请求,成功种token，跳转到之前,c\n\t\t\tthis.$axios({\n\t\t\t\turl: '/api/login',\n\t\t\t\tparams: {\n\t\t\t\t\tusername: this.username,\n\t\t\t\t\tpassword: this.password,\n\t\t\t\t}\n\t\t\t}).then(\n\t\t\t\tres => {\n\t\t\t\t\tif (res.data.err === 0) {\n\t\t\t\t\t\t//种token\n\t\t\t\t\t\twindow.localStorage.setItem('user', JSON.stringify(res.data))\n\t\t\t\t\t\t//跳转到之前\n\t\t\t\t\t\tif (this.$route.query.p) {\n\t\t\t\t\t\t\tthis.$router.replace(this.$route.query.p)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.$router.replace('/my')\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.mess = res.data.msg; //跳转到之前\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t}\n\t},\n\tcomputed: {}\n}\n",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/page","sourcesContent":["<template>\r\n\t<div class=\"login\">\r\n\t\t<img src=\"//s3.pstatp.com/toutiao/resource/ntoutiao_web/static/image/logo_271e845.png\" style=\"margin-bottom: 50px;margin: 50px auto;\">\r\n\t\t<!-- 头部 -->\r\n\t\t    <!-- <div class=\"header\"> -->\r\n\t\t        <h1 style=\"text-align: center;\">账密登录</h1>\r\n\t\t\t\t<hr />\r\n\t\t    <!-- </div> -->\r\n\t\t    <!-- 表单 -->\r\n\t\t    <div class=\"content\">\r\n\t\t        <form action=\"javascript:;\">\r\n\t\t            <input type=\"text\" placeholder=\"手机号\" v-model=\"username\" class=\"text\" required>\r\n\t\t            <input type=\"password\" placeholder=\"密码\" v-model=\"password\" class=\"text\" required>\r\n\t\t            <p>\r\n\t\t                还没有账号？点击此处立即\r\n\t\t\t\t\t\t<router-link to=\"/reg\" tag=\"a\">\r\n\t\t\t\t\t\t注册\r\n\t\t\t\t\t\t</router-link>\r\n\t\t                \r\n\t\t            </p>\r\n\t\t            <input type=\"button\" value=\"登录\" class=\"submit\" @click=\"loging\">\r\n\t\t        </form>\r\n\t\t    </div>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: 'login',\r\n\t\tprops: {},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tusername: '',\r\n\t\t\t\tpassword: '',\r\n\t\t\t\tmess: '', //错误信息\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {},\r\n\t\tmounted() {\r\n\t\t\t\r\n\t\t},\r\n\t\tupdated() {},\r\n\t\tmethods: {\r\n\t\t\tloging() {\r\n\t\t\t\t//发送登录请求,成功种token，跳转到之前,c\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\turl: '/api/login',\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tusername: this.username,\r\n\t\t\t\t\t\tpassword: this.password,\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(\r\n\t\t\t\t\tres => {\r\n\t\t\t\t\t\tif (res.data.err === 0) {\r\n\t\t\t\t\t\t\t//种token\r\n\t\t\t\t\t\t\twindow.localStorage.setItem('user', JSON.stringify(res.data))\r\n\t\t\t\t\t\t\t//跳转到之前\r\n\t\t\t\t\t\t\tif (this.$route.query.p) {\r\n\t\t\t\t\t\t\t\tthis.$router.replace(this.$route.query.p)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$router.replace('/my')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.mess = res.data.msg; //跳转到之前\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t*{\r\n\t    box-sizing: border-box;\r\n\t}\r\n\thtml,body{\r\n\t    height: 100%;\r\n\t}\r\n\tbody{\r\n\t    display: flex;\r\n\t    flex-direction: column;\r\n\t    \r\n\t}\r\n\t.header{\r\n\t    height: 44px;\r\n\t    background: red;\r\n\t    font-size: 16px;\r\n\t    color: #ffffff;\r\n\t    text-align: center;\r\n\t    line-height: 44px;\r\n\t}\r\n\t.content{\r\n\t    display: flex;\r\n\t    flex-direction: column;\r\n\t}\r\n\t.content form{\r\n\t    height: 204px;\r\n\t    width: 91%;\r\n\t    display: flex;\r\n\t    margin: auto;\r\n\t    margin-top: 5%;\r\n\t    flex-direction: column;\r\n\t    justify-content: space-between;\r\n\t}\r\n\t\r\n\t.text{\r\n\t    height: 33.5px;\r\n\t    border-bottom: 1px solid #7f7f7f;\r\n\t}\r\n\t.submit{\r\n\t    height: 44px;\r\n\t    background: red;\r\n\t    color: #ffffff;\r\n\t}\r\n\t.content p{\r\n\t    \r\n\t    color: #999999;\r\n\t    font-size: 11.5px;\r\n\t   \r\n\t}\r\n\t.content p a{\r\n\t    text-decoration: underline;\r\n\t    color: red;\r\n\t}\r\n</style>\n"]}]}